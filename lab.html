<body>

<canvas id="myCanvas" width="600" height="600" style="border:1px solid #d3d3d3;"></canvas>
<div id="label" width="600" height="600"></div>

<script type="text/javascript">

var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");

load(["./imgs/frame0.jpg", "./imgs/frame1.jpg", "./imgs/frame2.jpg"], (imgs) => {
    var frame = (src, f) => {
        setTimeout(() => {
            ctx.drawImage(src[f%src.length], 0, 0);

            frame(src, f+1);
        }, 200);
    }; frame(imgs, 0);
});

function load (imgList, then=null) {
    var imgs = [];

    var fetch = (list, ind) => {
        if (ind < list.length) {
            var m = new Image();

            m.src = list[ind];
            m.onload = () => {
                imgs.push(m);
                fetch(imgList, ind+1);
            };
        } else {
            if (then != null) {
                then(imgs);
            }
        }
    }; fetch(imgList, 0);
}

</script>
</body>